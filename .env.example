# ── Required ──────────────────────────────────────────
# API key for authenticating requests to the proxy.
# If not set, a random key is generated at startup.
API_KEY=your-secret-api-key-here

# ── Server ────────────────────────────────────────────
PORT=8888
HOST=127.0.0.1

# Allowed CORS origin (default: "*")
# Set to a specific origin in production, e.g. "https://myapp.com"
CORS_ORIGIN=*

# ── Claude CLI ────────────────────────────────────────
# Path to the Claude CLI binary (default: "claude")
CLAUDE_PATH=claude

# Default working directory for Claude CLI (default: process cwd)
CLAUDE_WORKING_DIR=

# Permission mode passed to Claude CLI.
# Options: "default", "plan", "bypassPermissions"
# WARNING: "bypassPermissions" disables all safety checks.
CLAUDE_PERMISSION_MODE=default

# Maximum number of agentic turns per request (default: 25)
CLAUDE_MAX_TURNS=25

# Timeout in milliseconds for a single Claude CLI invocation (default: 300000 = 5 min)
CLAUDE_TIMEOUT_MS=300000

# ── Sessions ──────────────────────────────────────────
# Time-to-live for cached sessions in milliseconds (default: 3600000 = 1 hour)
SESSION_TTL_MS=3600000

# Path to session persistence file. If set, sessions survive server restarts.
# Leave empty to keep sessions in memory only (lost on restart).
SESSION_FILE=

# ── Model ─────────────────────────────────────────────
# Default model when the request doesn't specify one
DEFAULT_MODEL=claude-sonnet-4-5-20250929

# ── Logging ──────────────────────────────────────────
# Log level: error | warn | info | debug (default: info)
LOG_LEVEL=info

# Path to log file. Logs are always printed to console.
# If set, logs are ALSO appended to this file.
# Leave empty to disable file logging.
LOG_FILE=

# Max log file size before rotation (default: 10mb)
# Supports units: b, kb, mb, gb — e.g. "50mb", "1gb", "512kb"
LOG_MAX_SIZE=10mb

# Number of rotated backup files to keep (default: 5)
# e.g. proxy.log, proxy.log.1, proxy.log.2, ... proxy.log.5
LOG_MAX_FILES=5
